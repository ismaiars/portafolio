class PortfolioApp{constructor(){this.init()}init(){this.setupLoader(),this.setupTypewriterEffect(),this.setupLanguageToggle(),this.setupScrollToTopButton(),this.setupSmoothScrolling(),this.setupScrollProgress(),this.setupSectionAnimations(),this.setupCurrentYear(),this.setupActiveNavigation(),this.setupSkillHoverEffects(),this.setupProjectHoverEffects(),this.setupTerminalFunctionality(),this.setupParticleEffect(),this.setupContactRippleEffects(),this.setupSkillTooltips(),this.setupKeyboardNavigation(),this.setupPerformanceMonitoring(),this.setupErrorHandling(),this.setupLazyLoading()}setupLoader(){let e=document.getElementById("loader");e&&setTimeout(()=>{e.classList.add("hidden"),setTimeout(()=>{e.style.display="none",this.enableAnimations()},500)},2e3)}enableAnimations(){setTimeout(()=>{document.body.classList.add("animations-loaded")},1e3)}setupLanguageToggle(){let t=document.getElementById("languageToggle"),a=document.documentElement;var e;t&&(e=localStorage.getItem("language")||"es",a.setAttribute("lang",e),this.updateLanguage(e),t.addEventListener("click",()=>{var e="es"===a.getAttribute("lang")?"en":"es";a.setAttribute("lang",e),localStorage.setItem("language",e),this.updateLanguage(e),t.style.transform="scale(0.9)",setTimeout(()=>{t.style.transform="scale(1)"},150)}))}updateLanguage(a){document.querySelectorAll("[data-es], [data-en]").forEach(e=>{var t;e.classList.contains("typewriter")||e.hasAttribute("data-protected")||(t=e.getAttribute("data-"+a))&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.placeholder=t:e.textContent=t)});var e,t=document.querySelector("title");t&&(e=t.getAttribute("data-"+a))&&(t.textContent=e);t=document.getElementById("languageToggle")?.querySelector("span");t&&(t.textContent=a.toUpperCase()),document.querySelectorAll(".skill-item").forEach(e=>{var t=e.getAttribute("data-level"+("en"===a?"-en":""));t&&e.setAttribute("data-level",t)})}setupScrollToTopButton(){let e=document.getElementById("scrollToTop");e&&(window.addEventListener("scroll",this.throttle(()=>{300<window.pageYOffset?e.classList.add("visible"):e.classList.remove("visible")},100),{passive:!0}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}setupSmoothScrolling(){document.querySelectorAll(".nav-links a").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();e=t.getAttribute("href"),e=document.querySelector(e);e&&(e.scrollIntoView({behavior:"smooth"}),document.querySelectorAll(".nav-links a").forEach(e=>{e.classList.remove("active")}),t.classList.add("active"))})})}setupScrollProgress(){let o=!1,e=()=>{var e,t,a=document.getElementById("scrollProgress");a&&(t=window.pageYOffset||document.documentElement.scrollTop,e=document.documentElement.scrollHeight-window.innerHeight,t=Math.min(t/e*100,100),a.style.width=t+"%"),o=!1};window.addEventListener("scroll",()=>{o||(requestAnimationFrame(e),o=!0)},{passive:!0})}setupSectionAnimations(){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)",e.target.classList.add("animate"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll("section:not(#inicio)").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="all 0.6s ease-out",t.observe(e)}),document.querySelectorAll(".timeline-item").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="all 0.6s ease-out",t.observe(e)}),document.querySelectorAll(".project-card").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="all 0.6s ease-out",t.observe(e)});document.querySelectorAll(".skill-item").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="all 0.4s ease-out",t.observe(e)});var e=document.querySelector("#inicio");e&&(e.style.opacity="1",e.style.transform="translateY(0)")}setupCurrentYear(){var e=document.getElementById("current-year");e&&(e.textContent=(new Date).getFullYear())}setupActiveNavigation(){var e=document.querySelector('.nav-links a[href="#inicio"]');e&&e.classList.add("active"),window.addEventListener("scroll",this.throttle(()=>{let a="";document.querySelectorAll("section").forEach(e=>{var t=e.offsetTop;window.pageYOffset>=t-e.clientHeight/3&&(a=e.getAttribute("id"))}),document.querySelectorAll(".nav-links a").forEach(e=>{e.classList.remove("active"),e.getAttribute("href").includes(a)&&e.classList.add("active")})},100),{passive:!0})}setupSkillHoverEffects(){document.querySelectorAll(".skill-item").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-5px) scale(1.05)",this.style.boxShadow="0 10px 25px rgba(0, 255, 65, 0.3)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0) scale(1)",this.style.boxShadow="0 4px 15px rgba(0, 255, 65, 0.2)"})})}setupProjectHoverEffects(){document.querySelectorAll(".project-card").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-10px)",this.style.boxShadow="0 20px 40px rgba(0, 255, 65, 0.3)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)",this.style.boxShadow="0 8px 25px rgba(0, 255, 65, 0.2)"})})}setupTerminalFunctionality(){var e=document.querySelectorAll(".skill-item");let s=document.getElementById("terminalModal"),n=document.getElementById("terminalOutput"),l=document.getElementById("terminalInput");if(s&&n&&l){let a={avanzado:["PHP","JavaScript","HTML","CSS","MySQL","Git","Linux"],intermedio:["Apache","Figma","Spring","Next.js","Bootstrap","React","Angular","Django","Ionic","Nuxt","SQLite","Express.js","Swagger"],basico:["Python","Node.js","MongoDB","Docker","AWS","Vue.js","TypeScript","PostgreSQL","Redis","GraphQL"]},o={help:()=>`Comandos disponibles:
- ls skills: Listar todas las habilidades
- ls skills/[nivel]: Listar habilidades por nivel (avanzado, intermedio, basico)
- skill --info [nombre]: InformaciÃ³n detallada de una habilidad
- clear: Limpiar terminal
- help: Mostrar esta ayuda`,"ls skills":()=>{let t="Habilidades por nivel:\n\n";return Object.keys(a).forEach(e=>{t+=e.toUpperCase()+`:
`,a[e].forEach(e=>{t+=`  - ${e}
`}),t+="\n"}),t},clear:()=>n.innerHTML=""},t=(Object.keys(a).forEach(e=>{o["ls skills/"+e]=()=>{let t=`Habilidades ${e}:
`;return a[e].forEach(e=>{t+=`  - ${e}
`}),t}}),()=>{s.style.display="flex",l.focus()}),r=()=>{s.style.display="none",n.innerHTML=""};e.forEach(e=>{e.addEventListener("click",t)}),l.addEventListener("keydown",function(e){var t;"Enter"===e.key&&(e=this.value.trim())&&(e=e,(t=document.createElement("div")).className="terminal-line",t.innerHTML='<span class="terminal-prompt">ismael@portfolio:~$</span> '+e,n.appendChild(t),(t=o[e]||`Comando no encontrado: ${e}. Escribe 'help' para ver comandos disponibles.`)&&((e=document.createElement("div")).className="terminal-output",e.textContent=t,n.appendChild(e)),n.scrollTop=n.scrollHeight,this.value="")}),document.addEventListener("keydown",function(e){"Escape"===e.key&&r()}),s.addEventListener("click",function(e){e.target===this&&r()}),window.showTerminal=t,window.closeTerminal=r}}setupTypewriterEffect(){var e=document.querySelector(".typewriter");e&&(e.textContent="Ismael Salazar",e.setAttribute("data-protected","true"),e.style.display="inline-block")}setupParticleEffect(){let t=document.getElementById("inicio");var e;t&&(setInterval(()=>{let e=document.createElement("div");e.className="particle",e.style.cssText=`
                position: absolute;
                width: 2px;
                height: 2px;
                background: var(--terminal-green);
                border-radius: 50%;
                pointer-events: none;
                opacity: 0.7;
                left: ${100*Math.random()}%;
                top: 100%;
                animation: floatUp 6s linear infinite;
            `,t.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},6e3)},300),document.querySelector("#particle-styles")||((e=document.createElement("style")).id="particle-styles",e.textContent=`
                @keyframes floatUp {
                    0% {
                        transform: translateY(0) rotate(0deg);
                        opacity: 0;
                    }
                    10% {
                        opacity: 0.7;
                    }
                    90% {
                        opacity: 0.7;
                    }
                    100% {
                        transform: translateY(-100vh) rotate(360deg);
                        opacity: 0;
                    }
                }
            `,document.head.appendChild(e)))}setupContactRippleEffects(){var e;document.querySelectorAll(".contact-item a").forEach(e=>{e.addEventListener("click",function(e){let t=document.createElement("span");t.className="ripple",t.style.cssText=`
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(0, 255, 65, 0.3);
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    pointer-events: none;
                `;var a=this.getBoundingClientRect(),o=Math.max(a.width,a.height);t.style.width=t.style.height=o+"px",t.style.left=e.clientX-a.left-o/2+"px",t.style.top=e.clientY-a.top-o/2+"px",this.style.position="relative",this.appendChild(t),setTimeout(()=>{t.remove()},600)})}),document.querySelector("#ripple-styles")||((e=document.createElement("style")).id="ripple-styles",e.textContent=`
                @keyframes ripple {
                    to {
                        transform: scale(4);
                        opacity: 0;
                    }
                }
            `,document.head.appendChild(e))}setupSkillTooltips(){document.querySelectorAll(".skill-item").forEach(e=>{var t=e.getAttribute("data-level")||"intermedio";let a=document.createElement("div");a.className="skill-tooltip",a.textContent="Nivel: "+t,a.style.cssText=`
                position: absolute;
                background: var(--terminal-surface);
                color: var(--terminal-green);
                padding: 5px 10px;
                border-radius: 4px;
                font-size: 12px;
                top: -35px;
                left: 50%;
                transform: translateX(-50%);
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.3s ease;
                border: 1px solid var(--terminal-green);
                z-index: 1000;
            `,e.style.position="relative",e.appendChild(a),e.addEventListener("mouseenter",()=>{a.style.opacity="1"}),e.addEventListener("mouseleave",()=>{a.style.opacity="0"})})}setupKeyboardNavigation(){document.addEventListener("keydown",e=>{"Escape"!==e.key||document.querySelector('#terminalModal[style*="flex"]')||window.scrollTo({top:0,behavior:"smooth"})})}setupPerformanceMonitoring(){window.addEventListener("load",()=>{var e=performance.timing.loadEventEnd-performance.timing.navigationStart;console.log("Page load time:",e+"ms")})}setupErrorHandling(){window.addEventListener("error",e=>{console.error("JavaScript Error:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise Rejection:",e.reason)})}setupLazyLoading(){let t=new IntersectionObserver((e,a)=>{e.forEach(t=>{if(t.isIntersecting){let e=t.target;e.style.filter="blur(5px)",e.style.transition="filter 0.3s ease",e.dataset.src&&(e.src=e.dataset.src,e.onload=()=>{e.style.filter="none",e.classList.add("loaded")},e.removeAttribute("data-src")),e.dataset.srcset&&(e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset")),a.unobserve(e)}})},{threshold:.1,rootMargin:"50px 0px"});document.querySelectorAll("img[data-src]").forEach(e=>t.observe(e)),document.querySelectorAll(".project-card img, .hero img").forEach(e=>{e.complete||(e.style.filter="blur(5px)",e.style.transition="filter 0.3s ease",e.onload=()=>{e.style.filter="none"})})}throttle(t,a){let o;return function(){var e=arguments;o||(t.apply(this,e),o=!0,setTimeout(()=>o=!1,a))}}debounce(o,r,s){let n;return function(){let e=this,t=arguments;var a=s&&!n;clearTimeout(n),n=setTimeout(function(){n=null,s||o.apply(e,t)},r),a&&o.apply(e,t)}}}document.addEventListener("DOMContentLoaded",()=>{new PortfolioApp});